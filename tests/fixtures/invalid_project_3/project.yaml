# This project should parse correctly but fail due to no output
# existing that corresponds to the user-defined variable in the
# `run_model` action
version: '1.0'

actions:

  generate_cohorts:
    run: cohortextractor
    outputs:
      cohort: input.csv

  run_model:
    run: stata-mp:latest analysis/model.do ${{ needs.generate_cohorts.outputs.bad_cohort }}
    needs: [generate_cohorts]
    outputs:
      log: model.log
